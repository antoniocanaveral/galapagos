CREATE OR REPLACE FUNCTION SII.F_GENERAR_INDICE_NULO(
IN IN_ANIO INT,
IN_CCTN_CODIGO VARCHAR
)RETURNS VOID AS
$$
DECLARE
OUT_KEY VARCHAR;
I NUMERIC;
TMP VARCHAR(3);
TMP2 VARCHAR(10);
BEGIN
	I:=0;
	TMP :='';
	
	FOR I IN 1..12 LOOP
		
	IF(LENGTH(I::VARCHAR)=1)THEN
		TMP := '0'||I::VARCHAR;		
	ELSE
		TMP := I::VARCHAR;
	END IF;
	
	TMP2 := '01/'||TMP||'/'||(IN_ANIO::VARCHAR);
	
		INSERT INTO CGG_INDICE_NULO 
		VALUES( SII.F_KEYGEN('CGG_INDICE_NULO','CGINU_CODIGO','CGINU'),
			    IN_ANIO,
				I,
				TO_CHAR(TO_DATE(TMP2,'DD/MM/YYYY'),'TMMONTH'),
				IN_CCTN_CODIGO,
				'',
				TO_DATE(TMP2,'DD/MM/YYYY'),				
				TRUE,
				CURRENT_TIMESTAMP,
				'admin',
				CURRENT_TIMESTAMP,
				'admin');
	END LOOP;
	
END
$$
LANGUAGE 'plpgsql' VOLATILE CALLED ON NULL INPUT;